@using Microsoft.Extensions.Configuration

@model ControlePassageiros.WebApplication.LoginModel

@inject IConfiguration _config;

@{
    Layout = null;
}

<style type="text/css">
    .input-group-prepend {
        width: 95%;
    }

    #divLogin {
        margin-top: 55% !important;
        height: 350px !important;
    }

    .bmd-form-group {
        height: 70px !important;
    }

    #btnEntrar {
        width: 300px;
    }

    .font-roboto {
        font-family: Roboto !important;
    }

</style>

<!DOCTYPE html>

<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="~/Images/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    <title>@ControlePassageiros.WebApplication.Configurador.NomeSistema</title>

    <link href="~/css/font.css" rel="stylesheet" />
    <link href="~/css/font-awesome.min.css" rel="stylesheet" />
    <link href="~/css/material-dashboard.min.css?v=2.0.2" rel="stylesheet" />
    <link href="~/css/style.css" rel="stylesheet" />
    <link href="https://fonts.google.com/specimen/Roboto?query=roboto" rel="stylesheet" />
</head>

<body class="off-canvas-sidebar">
    <div class="wrapper wrapper-full-page">
        <div class="page-header login-page header-filter" filter-color="black" style="background-image: url('../images/fundo_login.jpg'); background-size: cover; background-position: top center;" data-color="green">
            <div class="container">
                <div class="col-lg-5 col-md-6 col-sm-12 ml-auto mr-auto" style="margin-top: -80px">
                    <form id="frmLogin">
                        <div id="divLogin" class="card card-login card-hidden">
                            <div class="card-header card-header-success text-center">
                                <div class="row">
                                    <div class="col-lg-3 col-md-6 col-sm-12">
                                        <a href="@ControlePassageiros.WebApplication.Configurador.SiteEmpresa" class="simple-text logo-normal text-white" target="_blank">
                                            <img src="~/Images/logo.png" alt="" class="" style="width: 70px; height: auto;">
                                        </a>
                                    </div>
                                    <div class="col-lg-8 col-md-6 col-sm-12 mt-2">
                                        <div class="row center font-weight-bold d-flex justify-content-center" style="font-size: 24px; font-family: Roboto !important;">
                                            @ControlePassageiros.WebApplication.Configurador.NomeSistema
                                        </div>
                                        <div class="row d-flex justify-content-center">
                                            <a href="@ControlePassageiros.WebApplication.Configurador.SiteEmpresa" class="simple-text logo-normal text-white" target="_blank" style="font-size: 18px; font-family: Roboto !important;">@ControlePassageiros.WebApplication.Configurador.Empresa</a>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="card-body">
                                <div class="bmd-form-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" style="height: 60px !important;">
                                                <i class="material-icons">face</i>
                                            </span>
                                            <div class="form-group col-md-12" style="margin-left: -15px;">
                                                @Html.TextBoxFor(m => m.Login, new { @class = "form-control text-lowercase", @placeholder = "Usuário", required = "required" })
                                                @Html.ValidationMessageFor(x => x.Login)
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="bmd-form-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" style="height: 60px !important;">
                                                <i class="material-icons">lock_outline</i>
                                            </span>
                                            <div class="form-group col-md-12" style="margin-left: -15px;">
                                                @Html.TextBoxFor(m => m.Senha, new { @class = "form-control", @placeholder = "Senha", required = "required", @type = "password" })
                                                @Html.ValidationMessageFor(x => x.Senha)
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer justify-content-center" style="margin-bottom: -10px !important;">
                                <button id="btnEntrar" type="button" class="btn btn-warning pt-3" value="Login" onclick="logar();" style="font-size: 14px;">Entrar</button>
                                <img id="imgEntrar" src="~/Images/loading.gif" width="50" height="50" class="d-none" />
                            </div>
                            <br />
                            <div style="display: none;margin-left: auto; margin-right: 30px;">
                                <a href="#void" onclick="esqueciMinhaSenha();" style="color: gray;">Esqueci minha senha</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <footer class="footer">
                <div class="container mb-0">
                    <div class="copyright text-center" style="font-size:0.8em; color: lightgray; margin-top: 50px !important;">
                        <div class="clearfix"></div>
                        <p style="margin-top: -25px;">
                            &copy;
                            @ControlePassageiros.WebApplication.Configurador.Empresa
                            <script>document.write(new Date().getFullYear())</script>
                            - @ControlePassageiros.WebApplication.Configurador.Versao
                        </p>
                    </div>
                </div>
            </footer>
        </div>
    </div>


    <script type="text/javascript" src="~/js/jquery.min.js"></script>
    <script type="text/javascript" src="~/js/popper.min.js"></script>
    <script type="text/javascript" src="~/js/bootstrap-material-design.min.js"></script>
    <script type="text/javascript" src="~/js/jquery.reject.js"></script>
    <script type="text/javascript" src="~/js/jquery.reject.js"></script>
    <script type="text/javascript" src="~/js/reject.js"></script>
    <script type="text/javascript" src="~/js/demo.js"></script>
    <script type="text/javascript" src="~/js/sweetalert2.js"></script>
    <script type="text/javascript" src="~/js/jquery.blockUI.js"></script>
    <script type="text/javascript" src="~/js/loading.js"></script>
    <script type="text/javascript" src="~/js/custom.js"></script>
    <script type="text/javascript" src="~/js/jquery.validate.min.js"></script>
    <script type="text/javascript" src="~/js/jquery.validate.unobtrusive.min.js"></script>
    <script type="text/javascript" src="~/js/jquery.validate.custom.pt-BR.js"></script>
    <script type="text/javascript" src="~/js/jquery.validate.unobtrusive.dynamic.js"></script>
    <script type="text/javascript" src="~/js/framework.js"></script>
    <script type="text/javascript" src="~/js/classes/login.js"></script>

    <script type="text/javascript">

        function logar() {
            var form = $(document.getElementById("frmLogin"))
            framework.submeterForm(form, '@Url.Action("Autenticar")', function (response) {
                if (response.success) {
                    framework.redirect(response.url)
                }
                else {
                    $.notifyWarning(response.message);
                }
            });
        }

    </script>

</body>
</html>